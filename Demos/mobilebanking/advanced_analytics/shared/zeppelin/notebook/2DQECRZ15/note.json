{
  "paragraphs": [
    {
      "text": "Frauds in credit card payments are hard to find because you never know if your customer \nis actually buying something new on some new place of an unusual price, or if his/hers card\nhave been stolen.\n\nOn this demo, we have implemented a first version of the Transaction process with a simple \nlimit on the value of the transaction. But that caused a lot of problems to many of our clients\nfor which that limit was too low. They would have to constantly white list their transactions to\nkeep with their daily habits.\n\nSo, every client has a specific limit but it is impossible to manually set a limit to every\nsingle clients without using AI. That is because the limit may be calculated based on gender,\nage, past transactions values, past transaction\u0027s merchants and many other attributes.\n\nThat is when a Machine Learning generated model can come in handy. Let\u0027s start by reading the data \nfrom our normalized data lake. This IRIS normalized data lake holds data from all our systems,\naggregated in real time for us to query without impacting the business.\n\nWe can use JDBC to read the data from the data lake:\n",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:30:49 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534173754368_1562536246",
      "id": "20180813-152234_1077198334",
      "dateCreated": "Aug 13, 2018 3:22:34 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\n\nselect top 10 * from IRISDemo.BC_TRANSACTIONS",
      "user": "anonymous",
      "dateUpdated": "Aug 22, 2018 7:25:38 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ID\tBC_TRANS_AMOUNT\tBC_TRANS_SRC_ACC\tBC_TRANS_SRC_ACC_NEW_BAL\tBC_TRANS_SRC_ACC_OLD_BAL\tBC_TRANS_IS_FRAUD\tBC_TRANS_DEST_ACC\tBC_TRANS_DEST_ACC_NEW_BAL\tBC_TRANS_DEST_ACC_OLD_BAL\tBC_TRANS_DATE\tBC_TRANS_TYPE\tBC_TRANS_NUM\tBC_TRANS_WHITELISTED_BY\n1\t4.55\t1\t5995.45\t6000.0\t0\t2\t-5995.45\t-6000.0\t2018-01-01 00:00:01\tPAYMENT\t1\tnull\n2\t39.68\t3\t5960.32\t6000.0\t0\t2\t-5955.7699999999995\t-5995.45\t2018-01-01 00:00:15\tPAYMENT\t2\tnull\n3\t26.89\t5\t5973.11\t6000.0\t0\t4\t-5973.11\t-6000.0\t2018-01-01 00:00:05\tPAYMENT\t3\tnull\n4\t17.25\t6\t5982.75\t6000.0\t0\t2\t-5938.5199999999995\t-5955.7699999999995\t2018-01-01 00:00:09\tPAYMENT\t4\tnull\n5\t35.72\t7\t5964.28\t6000.0\t0\t2\t-5902.799999999999\t-5938.5199999999995\t2018-01-01 00:00:01\tPAYMENT\t5\tnull\n6\t25.81\t8\t5974.19\t6000.0\t0\t2\t-5876.989999999999\t-5902.799999999999\t2018-01-01 00:00:20\tPAYMENT\t6\tnull\n7\t9.1\t9\t5990.9\t6000.0\t0\t2\t-5867.8899999999985\t-5876.989999999999\t2018-01-01 00:00:05\tPAYMENT\t7\tnull\n8\t21.17\t10\t5978.83\t6000.0\t0\t2\t-5846.719999999998\t-5867.8899999999985\t2018-01-01 00:00:20\tPAYMENT\t8\tnull\n9\t32.4\t11\t5967.6\t6000.0\t0\t2\t-5814.319999999999\t-5846.719999999998\t2018-01-01 00:00:16\tPAYMENT\t9\tnull\n10\t35.4\t12\t5964.6\t6000.0\t0\t2\t-5778.919999999999\t-5814.319999999999\t2018-01-01 00:00:05\tPAYMENT\t10\tnull\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534361423124_1261707932",
      "id": "20180815-193023_586425323",
      "dateCreated": "Aug 15, 2018 7:30:23 PM",
      "dateStarted": "Aug 15, 2018 7:31:11 PM",
      "dateFinished": "Aug 15, 2018 7:31:13 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "Or we can read the data using Spark with Python:",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:44:57 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534361476526_25002374",
      "id": "20180815-193116_2098244034",
      "dateCreated": "Aug 15, 2018 7:31:16 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\n\ndf \u003d spark.read.format(\"iris\").option(\"dbtable\",\"IRISDemo.BC_TRANSACTIONS\").load().limit(10)\ndf.show()",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:49:18 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python"
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "+---+---------------+----------------+------------------------+------------------------+-----------------+-----------------+-------------------------+-------------------------+--------------------+-------------+------------+-----------------------+\n| ID|BC_TRANS_AMOUNT|BC_TRANS_SRC_ACC|BC_TRANS_SRC_ACC_NEW_BAL|BC_TRANS_SRC_ACC_OLD_BAL|BC_TRANS_IS_FRAUD|BC_TRANS_DEST_ACC|BC_TRANS_DEST_ACC_NEW_BAL|BC_TRANS_DEST_ACC_OLD_BAL|       BC_TRANS_DATE|BC_TRANS_TYPE|BC_TRANS_NUM|BC_TRANS_WHITELISTED_BY|\n+---+---------------+----------------+------------------------+------------------------+-----------------+-----------------+-------------------------+-------------------------+--------------------+-------------+------------+-----------------------+\n|  1|           4.55|               1|                 5995.45|                  6000.0|            false|                2|                 -5995.45|                  -6000.0|2018-01-01 00:00:...|      PAYMENT|           1|                      0|\n|  2|          39.68|               3|                 5960.32|                  6000.0|            false|                2|      -5955.7699999999995|                 -5995.45|2018-01-01 00:00:...|      PAYMENT|           2|                      0|\n|  3|          26.89|               5|                 5973.11|                  6000.0|            false|                4|                 -5973.11|                  -6000.0|2018-01-01 00:00:...|      PAYMENT|           3|                      0|\n|  4|          17.25|               6|                 5982.75|                  6000.0|            false|                2|      -5938.5199999999995|      -5955.7699999999995|2018-01-01 00:00:...|      PAYMENT|           4|                      0|\n|  5|          35.72|               7|                 5964.28|                  6000.0|            false|                2|       -5902.799999999999|      -5938.5199999999995|2018-01-01 00:00:...|      PAYMENT|           5|                      0|\n|  6|          25.81|               8|                 5974.19|                  6000.0|            false|                2|       -5876.989999999999|       -5902.799999999999|2018-01-01 00:00:...|      PAYMENT|           6|                      0|\n|  7|            9.1|               9|                  5990.9|                  6000.0|            false|                2|      -5867.8899999999985|       -5876.989999999999|2018-01-01 00:00:...|      PAYMENT|           7|                      0|\n|  8|          21.17|              10|                 5978.83|                  6000.0|            false|                2|       -5846.719999999998|      -5867.8899999999985|2018-01-01 00:00:...|      PAYMENT|           8|                      0|\n|  9|           32.4|              11|                  5967.6|                  6000.0|            false|                2|       -5814.319999999999|       -5846.719999999998|2018-01-01 00:00:...|      PAYMENT|           9|                      0|\n| 10|           35.4|              12|                  5964.6|                  6000.0|            false|                2|       -5778.919999999999|       -5814.319999999999|2018-01-01 00:00:...|      PAYMENT|          10|                      0|\n+---+---------------+----------------+------------------------+------------------------+-----------------+-----------------+-------------------------+-------------------------+--------------------+-------------+------------+-----------------------+\n\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534362062080_-1994685809",
      "id": "20180815-194102_349085272",
      "dateCreated": "Aug 15, 2018 7:41:02 PM",
      "dateStarted": "Aug 15, 2018 7:49:18 PM",
      "dateFinished": "Aug 15, 2018 7:49:18 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "But that is not pretty... Zeppelin can help us with some magic:",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:46:54 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534362395936_733998242",
      "id": "20180815-194635_389054367",
      "dateCreated": "Aug 15, 2018 7:46:35 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\n\nz.show(df)",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:49:23 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python"
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ID\tBC_TRANS_AMOUNT\tBC_TRANS_SRC_ACC\tBC_TRANS_SRC_ACC_NEW_BAL\tBC_TRANS_SRC_ACC_OLD_BAL\tBC_TRANS_IS_FRAUD\tBC_TRANS_DEST_ACC\tBC_TRANS_DEST_ACC_NEW_BAL\tBC_TRANS_DEST_ACC_OLD_BAL\tBC_TRANS_DATE\tBC_TRANS_TYPE\tBC_TRANS_NUM\tBC_TRANS_WHITELISTED_BY\n1\t4.55\t1\t5995.45\t6000.0\tfalse\t2\t-5995.45\t-6000.0\t2018-01-01 00:00:01.0\tPAYMENT\t1\t0\n2\t39.68\t3\t5960.32\t6000.0\tfalse\t2\t-5955.7699999999995\t-5995.45\t2018-01-01 00:00:15.0\tPAYMENT\t2\t0\n3\t26.89\t5\t5973.11\t6000.0\tfalse\t4\t-5973.11\t-6000.0\t2018-01-01 00:00:05.0\tPAYMENT\t3\t0\n4\t17.25\t6\t5982.75\t6000.0\tfalse\t2\t-5938.5199999999995\t-5955.7699999999995\t2018-01-01 00:00:09.0\tPAYMENT\t4\t0\n5\t35.72\t7\t5964.28\t6000.0\tfalse\t2\t-5902.799999999999\t-5938.5199999999995\t2018-01-01 00:00:01.0\tPAYMENT\t5\t0\n6\t25.81\t8\t5974.19\t6000.0\tfalse\t2\t-5876.989999999999\t-5902.799999999999\t2018-01-01 00:00:20.0\tPAYMENT\t6\t0\n7\t9.1\t9\t5990.9\t6000.0\tfalse\t2\t-5867.8899999999985\t-5876.989999999999\t2018-01-01 00:00:05.0\tPAYMENT\t7\t0\n8\t21.17\t10\t5978.83\t6000.0\tfalse\t2\t-5846.719999999998\t-5867.8899999999985\t2018-01-01 00:00:20.0\tPAYMENT\t8\t0\n9\t32.4\t11\t5967.6\t6000.0\tfalse\t2\t-5814.319999999999\t-5846.719999999998\t2018-01-01 00:00:16.0\tPAYMENT\t9\t0\n10\t35.4\t12\t5964.6\t6000.0\tfalse\t2\t-5778.919999999999\t-5814.319999999999\t2018-01-01 00:00:05.0\tPAYMENT\t10\t0\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534362382372_706311122",
      "id": "20180815-194622_1956120964",
      "dateCreated": "Aug 15, 2018 7:46:22 PM",
      "dateStarted": "Aug 15, 2018 7:49:23 PM",
      "dateFinished": "Aug 15, 2018 7:49:23 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "We can also read the data using Spark with Scala:",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:47:14 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534362278012_607076554",
      "id": "20180815-194438_2031050104",
      "dateCreated": "Aug 15, 2018 7:44:38 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "val df \u003d spark.read.format(\"iris\").option(\"dbtable\",\"IRISDemo.BC_TRANSACTIONS\").load().limit(10)\nz.show(df)",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:49:46 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "df: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] \u003d [ID: bigint, BC_TRANS_AMOUNT: double ... 11 more fields]\n"
          },
          {
            "type": "TABLE",
            "data": "ID\tBC_TRANS_AMOUNT\tBC_TRANS_SRC_ACC\tBC_TRANS_SRC_ACC_NEW_BAL\tBC_TRANS_SRC_ACC_OLD_BAL\tBC_TRANS_IS_FRAUD\tBC_TRANS_DEST_ACC\tBC_TRANS_DEST_ACC_NEW_BAL\tBC_TRANS_DEST_ACC_OLD_BAL\tBC_TRANS_DATE\tBC_TRANS_TYPE\tBC_TRANS_NUM\tBC_TRANS_WHITELISTED_BY\n1\t4.55\t1\t5995.45\t6000.0\tfalse\t2\t-5995.45\t-6000.0\t2018-01-01 00:00:01.0\tPAYMENT\t1\t0\n2\t39.68\t3\t5960.32\t6000.0\tfalse\t2\t-5955.7699999999995\t-5995.45\t2018-01-01 00:00:15.0\tPAYMENT\t2\t0\n3\t26.89\t5\t5973.11\t6000.0\tfalse\t4\t-5973.11\t-6000.0\t2018-01-01 00:00:05.0\tPAYMENT\t3\t0\n4\t17.25\t6\t5982.75\t6000.0\tfalse\t2\t-5938.5199999999995\t-5955.7699999999995\t2018-01-01 00:00:09.0\tPAYMENT\t4\t0\n5\t35.72\t7\t5964.28\t6000.0\tfalse\t2\t-5902.799999999999\t-5938.5199999999995\t2018-01-01 00:00:01.0\tPAYMENT\t5\t0\n6\t25.81\t8\t5974.19\t6000.0\tfalse\t2\t-5876.989999999999\t-5902.799999999999\t2018-01-01 00:00:20.0\tPAYMENT\t6\t0\n7\t9.1\t9\t5990.9\t6000.0\tfalse\t2\t-5867.8899999999985\t-5876.989999999999\t2018-01-01 00:00:05.0\tPAYMENT\t7\t0\n8\t21.17\t10\t5978.83\t6000.0\tfalse\t2\t-5846.719999999998\t-5867.8899999999985\t2018-01-01 00:00:20.0\tPAYMENT\t8\t0\n9\t32.4\t11\t5967.6\t6000.0\tfalse\t2\t-5814.319999999999\t-5846.719999999998\t2018-01-01 00:00:16.0\tPAYMENT\t9\t0\n10\t35.4\t12\t5964.6\t6000.0\tfalse\t2\t-5778.919999999999\t-5814.319999999999\t2018-01-01 00:00:05.0\tPAYMENT\t10\t0\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534361495104_737218561",
      "id": "20180815-193135_914958050",
      "dateCreated": "Aug 15, 2018 7:31:35 PM",
      "dateStarted": "Aug 15, 2018 7:49:46 PM",
      "dateFinished": "Aug 15, 2018 7:49:46 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "Now, let\u0027s load our data and create some features. We will be working with python and spark:",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:50:41 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala"
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534362445683_-1212385147",
      "id": "20180815-194725_339642473",
      "dateCreated": "Aug 15, 2018 7:47:25 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%spark.pyspark\n\ndf \u003d spark.read.format(\"iris\").option(\"dbtable\",\"IRISDemo.BC_TRANSACTIONS\")\n\ndf \u003d df.withColumnRenamed(\"\")",
      "user": "anonymous",
      "dateUpdated": "Aug 15, 2018 7:52:16 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python"
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534362625674_-889487230",
      "id": "20180815-195025_747510009",
      "dateCreated": "Aug 15, 2018 7:50:25 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\n\nselect t.BC_TRANS_SRC_ACC, AVG(t.BC_TRANS_AMOUNT) AMOUNT_AVG, STDDEV(t.BC_TRANS_AMOUNT) AMOUNT_STDDEV\nfrom IRISDemo.BC_TRANSACTIONS t, \nIRISDemo.CS_FRAUD_COMPLAINT c \nwhere t.ID*\u003dc.CS_FRAUD_COMP_TRANSACTION AND\nt.BC_TRANS_TYPE\u003d\u0027PAYMENT\u0027 AND\n(c.CS_FRAUD_COMP_CONFIRMED is null OR c.CS_FRAUD_COMP_CONFIRMED\u003c\u003e1)\ngroup by t.BC_TRANS_SRC_ACC\nhaving STDDEV(t.BC_TRANS_AMOUNT)\u003e0",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:17:50 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "BC_TRANS_SRC_ACC\tAMOUNT_AVG\tAMOUNT_STDDEV\n122\t19.916666666666668\t9.471062946329385\n163\t41.43\t20.025264043203034\n299\t36.129999999999995\t7.254915574974014\n415\t22.43\t22.69812767608817\n506\t24.240000000000002\t30.60358148975378\n583\t12.115\t13.781511165325812\n591\t14.065\t16.143247814488884\n634\t21.55\t6.533666658163692\n692\t22.97\t17.73054144689327\n734\t53.435\t12.69256672229848\n794\t22.49\t13.406744571296942\n1020\t22.87\t27.94485999249236\n1110\t59.68\t17.69181166528743\n1228\t9.815\t10.92479976933216\n1445\t42.17\t31.79152088214718\n1451\t18.45\t10.224764055957483\n1617\t18.945\t19.905055890401318\n2062\t20.6\t11.808683245815336\n2081\t24.595\t10.684383463728736\n2116\t82.78\t102.03550852521882\n2148\t30.735\t7.191275964667184\n2407\t21.78\t7.5094740162011195\n2551\t57.205\t48.21761140911067\n2580\t14.9\t10.988439379638953\n2747\t35.114999999999995\t12.070312754854385\n2800\t31.325000000000003\t17.45846642749586\n2805\t20.84\t23.57494008475949\n2815\t45.95\t2.5738686835189544\n3091\t24.38\t3.662813126546332\n3319\t30.955\t2.5950818869546586\n3431\t24.205\t21.82838633522873\n3984\t16.665\t6.0174787078975305\n4074\t41.349999999999994\t4.5113412639702535\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534173682854_1798463942",
      "id": "20180813-152122_1423404779",
      "dateCreated": "Aug 13, 2018 3:21:22 PM",
      "dateStarted": "Aug 13, 2018 6:17:50 PM",
      "dateFinished": "Aug 13, 2018 6:17:53 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "As can be seen, every client is different. Let\u0027s take one client that has a high standard deviation. The client with account number 2116 looks interesting.",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:18:39 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534174215411_-1226481172",
      "id": "20180813-153015_1547322255",
      "dateCreated": "Aug 13, 2018 3:30:15 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\nselect ID, BC_TRANS_AMOUNT, BC_TRANS_DEST_ACC, BC_TRANS_WHITELISTED_BY from IRISDemo.BC_TRANSACTIONS t where t.BC_TRANS_SRC_ACC \u003d2116 \n",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:22:11 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "lineChart",
              "height": 300.0,
              "optionOpen": true,
              "setting": {
                "stackedAreaChart": {
                  "style": "stack"
                },
                "scatterChart": {
                  "xAxis": {
                    "name": "ID",
                    "index": 0.0,
                    "aggr": "sum"
                  },
                  "yAxis": {
                    "name": "BC_TRANS_AMOUNT",
                    "index": 1.0,
                    "aggr": "sum"
                  },
                  "group": {
                    "name": "BC_TRANS_DEST_ACC",
                    "index": 2.0,
                    "aggr": "sum"
                  }
                }
              },
              "keys": [
                {
                  "name": "ID",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "BC_TRANS_DEST_ACC",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "BC_TRANS_AMOUNT",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ID\tBC_TRANS_AMOUNT\tBC_TRANS_DEST_ACC\tBC_TRANS_WHITELISTED_BY\n2095\t7.1\t2\tnull\n3737\t29.58\t222\tnull\n6038\t47.09\t2\tnull\n11485\t36.04\t2\tnull\n13133\t22.26\t2\tnull\n19634\t35.14\t2\tnull\n21455\t3.29\t2\tnull\n23818\t10.02\t141\tnull\n25558\t46.47\t2\tnull\n29626\t29.53\t2\tnull\n40417\t42.53\t2\tnull\n43639\t71.05\t2\tnull\n46061\t2.63\t2\tnull\n47558\t34.55\t2\tnull\n51660\t28.16\t2\tnull\n53272\t25.26\t2\tnull\n57128\t64.03\t2\tnull\n58265\t13.19\t2\tnull\n62418\t31.69\t2\tnull\n65031\t50.41\t2\tnull\n70299\t17.04\t2\tnull\n74015\t8.79\t2\tnull\n81950\t28.83\t2\tnull\n85347\t34.82\t2\tnull\n87656\t6.23\t2\tnull\n90595\t23.54\t2\tnull\n93456\t16.9\t2\tnull\n95476\t33.82\t2\tnull\n99108\t8.35\t2\tnull\n101177\t21.72\t2\tnull\n106719\t18.55\t2\tnull\n109069\t6.93\t222\tnull\n110849\t2.78\t2\tnull\n115746\t24.51\t2\tnull\n121849\t19.54\t2\tnull\n125556\t18.8\t2\tnull\n131093\t20.08\t2\tnull\n132017\t17.85\t2\tnull\n136553\t27.61\t2\tnull\n138009\t21.26\t2\tnull\n142095\t34.48\t2\tnull\n145510\t25.74\t2\tnull\n149312\t3.32\t2\tnull\n152043\t44.41\t2\tnull\n156137\t20.76\t2\tnull\n157908\t2.77\t2\tnull\n167637\t18.56\t2\tnull\n171514\t49.47\t2\tnull\n174321\t59.32\t2\tnull\n177769\t12.19\t2\tnull\n180907\t3.22\t2\tnull\n184177\t24.13\t2\tnull\n189380\t55.41\t2\tnull\n198649\t29.56\t2\tnull\n202189\t4.34\t2\tnull\n206564\t7.58\t2\tnull\n207162\t25.43\t2\tnull\n212590\t43.6\t2\tnull\n215466\t4.01\t2\tnull\n217457\t23.11\t2\tnull\n222430\t75.47\t2\tnull\n226082\t14.84\t2\tnull\n227294\t43.54\t2\tnull\n230941\t53.09\t2\tnull\n234221\t27.32\t2\tnull\n237894\t33.83\t2\tnull\n241092\t15.64\t2\tnull\n244572\t3.59\t2\tnull\n248161\t14.79\t2\tnull\n255585\t34.19\t2\tnull\n259300\t5.84\t2\tnull\n261345\t27.87\t713\tnull\n263900\t24.96\t2\tnull\n268745\t22.94\t2\tnull\n273455\t9.01\t2\tnull\n276415\t34.9\t269\tnull\n279651\t55.49\t2\tnull\n286570\t11.24\t2\tnull\n288632\t25.42\t2\tnull\n292608\t21.55\t2\tnull\n296243\t18.01\t2\tnull\n300811\t38.23\t2\tnull\n302192\t25.06\t2\tnull\n306593\t23.12\t2\tnull\n310776\t42.85\t2\tnull\n312092\t2.54\t2\tnull\n317813\t50.92\t2\tnull\n319671\t24.47\t2\tnull\n324342\t30.95\t2\tnull\n331328\t26.64\t2\tnull\n334066\t15.2\t2\tnull\n336173\t38.64\t2\tnull\n345144\t64.24\t2\tnull\n349304\t3.54\t2\tnull\n353506\t1.95\t2\tnull\n354861\t30.71\t2\tnull\n358409\t13.87\t2\tnull\n362669\t51.84\t2\tnull\n366332\t20.73\t2\tnull\n368282\t54.33\t2\tnull\n371874\t9.97\t2\tnull\n378290\t93.0\t1138\tnull\n379328\t9.59\t2\tnull\n379329\t15.9\t4\tnull\n384537\t41.53\t4\tnull\n387305\t10.39\t4\tnull\n394378\t16.25\t4\tnull\n397133\t3.22\t4\tnull\n399916\t154.93\t48\tnull\n406742\t1.45\t4\tnull\n409891\t19.55\t4\tnull\n412889\t26.04\t84\tnull\n417254\t9.22\t4\tnull\n420925\t36.23\t4\tnull\n424502\t6.1\t4\tnull\n430904\t19.65\t4\tnull\n433779\t17.01\t4\tnull\n438496\t40.86\t4\tnull\n441967\t62.18\t4\tnull\n446763\t11.43\t4\tnull\n447498\t6.91\t4\tnull\n451133\t18.24\t4\tnull\n454279\t0.91\t4\tnull\n461231\t66.18\t4\tnull\n464298\t52.87\t4\tnull\n465529\t33.96\t4\tnull\n471638\t19.58\t4\tnull\n472928\t4.28\t4\tnull\n479062\t28.25\t4\tnull\n481194\t50.99\t84\tnull\n483620\t10.63\t4\tnull\n489199\t7.44\t4\tnull\n492062\t85.67\t4\tnull\n495985\t18.48\t4\tnull\n498761\t3.11\t4\tnull\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534173744308_-326980927",
      "id": "20180813-152224_1297834506",
      "dateCreated": "Aug 13, 2018 3:22:24 PM",
      "dateStarted": "Aug 13, 2018 6:21:01 PM",
      "dateFinished": "Aug 13, 2018 6:21:01 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "As can be seen, this client has a profile of transactions that he/she does frequently. \nThere are some transactions though that are clearly not part of his/her profile, with\na very high value and to an unusual merchant. Let\u0027s take a look at transaction number 463295. \nThis specific transaction is of US$ 552. The standard deviation for this customer is of 85 with\nan average amount of transaction of 92.\n\n(649-92)/85 \u003d 6/55\n\nSo, this transaction is 6.55 times the standard deviation for this customer!\n\nLet\u0027s see if it was marked as fraudulent by a confirmed complaint:\n",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 5:05:52 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534174735392_1028695240",
      "id": "20180813-153855_1608372894",
      "dateCreated": "Aug 13, 2018 3:38:55 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\n\nselect m.BC_MERCH_CATEGORY-\u003eBC_MERCH_CAT_DESC, AVG(t.BC_TRANS_AMOUNT), STDDEV(t.BC_TRANS_AMOUNT)\n\nfrom \n    IRISDemo.BC_TRANSACTIONS t, \n    IRISDemo.BC_MERCH_ACCOUNT m\n\nwhere \nt.BC_TRANS_IS_FRAUD\u003d1 and\nt.BC_TRANS_DEST_ACC\u003dm.ID\n\ngroup by \nm.BC_MERCH_CATEGORY-\u003eBC_MERCH_CAT_DESC",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:51:11 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "BC_MERCH_CAT_DESC\tAggregate_2\tAggregate_3\nBARSANDRESTAURANTS\t157.71916666666667\t126.40487409545453\nFASHION\t248.72642857142878\t174.0403118799728\nHEALTH\t409.92053030303015\t299.072903082675\nHOME\t462.92386861313855\t323.0092050157489\nHOTELSERVICES\t423.78108225108224\t288.6640915933239\nHYPER\t174.6849159663865\t114.12702603094513\nLEISURE\t300.7655825242718\t85.32337694292599\nOTHERSERVICES\t312.0390625\t212.79434329999887\nSPORTSANDTOYS\t348.599867205542\t239.12368524731428\nTECH\t414.9075384615383\t279.94796111398716\nTRAVEL\t2692.3220517928276\t1734.006744643929\nWELLNESSANDBEAUTY\t230.27716216216228\t165.04196237694327\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534185601314_1152016426",
      "id": "20180813-184001_933769216",
      "dateCreated": "Aug 13, 2018 6:40:01 PM",
      "dateStarted": "Aug 13, 2018 6:51:12 PM",
      "dateFinished": "Aug 13, 2018 6:51:12 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\n\nselect m.BC_MERCH_CATEGORY-\u003eBC_MERCH_CAT_DESC, BC_TRANS_DEST_ACC, AVG(BC_TRANS_AMOUNT) \n\nfrom \n    IRISDemo.BC_TRANSACTIONS t, \n    IRISDemo.BC_MERCH_ACCOUNT m\n\nwhere \nt.BC_TRANS_IS_FRAUD\u003d1\n\ngroup by \nm.BC_MERCH_CATEGORY-\u003eBC_MERCH_CAT_DESC,\nBC_TRANS_DEST_ACC\n",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:40:01 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "BC_TRANS_IS_FRAUD\tBC_TRANS_WHITELISTED_BY\n0\t813\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534175062722_-1366875650",
      "id": "20180813-154422_2143347115",
      "dateCreated": "Aug 13, 2018 3:44:22 PM",
      "dateStarted": "Aug 13, 2018 5:06:55 PM",
      "dateFinished": "Aug 13, 2018 5:06:55 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "So, the client white listed this transaction before doing it! It is not a fraud. \nIf we could store on our normalized data lake statistics about our customers such as the average value of his/her transactions\nand the standard deviation of the value, of all transactions that are not frauds, we could very quickly\nknow if a transaction is out of pattern or not! \n\nIt would take the transactional system a lot of work to do this and that would impact its transactional performance.\nBut our normalized datatalake is separate and is being kept up to date asynchronously by the transactional services layer.",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:08:48 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534175189930_-1936503236",
      "id": "20180813-154629_1904192762",
      "dateCreated": "Aug 13, 2018 3:46:29 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\n\nselect * from IRISDemo.BC_TRANSACTIONS where BC_TRANS_IS_FRAUD\u003d1",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:10:10 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "ID\tBC_TRANS_AMOUNT\tBC_TRANS_SRC_ACC\tBC_TRANS_SRC_ACC_NEW_BAL\tBC_TRANS_SRC_ACC_OLD_BAL\tBC_TRANS_IS_FRAUD\tBC_TRANS_DEST_ACC\tBC_TRANS_DEST_ACC_NEW_BAL\tBC_TRANS_DEST_ACC_OLD_BAL\tBC_TRANS_DATE\tBC_TRANS_TYPE\tBC_TRANS_WHITELISTED_BY\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1534183757700_331896525",
      "id": "20180813-180917_654200803",
      "dateCreated": "Aug 13, 2018 6:09:17 PM",
      "dateStarted": "Aug 13, 2018 6:09:42 PM",
      "dateFinished": "Aug 13, 2018 6:09:42 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%irisjdbc\n\nselect t.*\nfrom IRISDemo.BC_TRANSACTIONS t \nwhere t.BC_TRANS_SRC_ACC \u003d78 and \n((t.BC_TRANS_AMOUNT - ?)/?) \u003e 2\n",
      "user": "anonymous",
      "dateUpdated": "Aug 13, 2018 6:09:35 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1534174406109_-854689497",
      "id": "20180813-153326_556270505",
      "dateCreated": "Aug 13, 2018 3:33:26 PM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "IRIS Demo",
  "id": "2DQECRZ15",
  "angularObjects": {
    "2DHWQ7A7V:shared_process": [],
    "2DGTFGFBC:shared_process": [],
    "2DHATZD9M:shared_process": [],
    "2DKDARDPF:shared_process": [],
    "2DG8A819A:shared_process": [],
    "2DJVV28U3:shared_process": [],
    "2DKCAA3TS:shared_process": [],
    "2DHEPV9M3:shared_process": [],
    "2DKW8P766:shared_process": [],
    "2DGHX224C:shared_process": [],
    "2DGRSNE7G:shared_process": [],
    "2DGUG4SEP:shared_process": [],
    "2DHM86BYR:shared_process": [],
    "2DHYW1ZN6:shared_process": [],
    "2DJ16C4UE:shared_process": [],
    "2DJ4VH5DW:shared_process": [],
    "2DJBEDGYM:shared_process": [],
    "2DM19CFTF:shared_process": [],
    "2DHHCF91E:shared_process": [],
    "2DKCPR9P1:shared_process": []
  },
  "config": {},
  "info": {}
}